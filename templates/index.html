<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Servers Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/styles.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-gauge@0.4.2/dist/chartjs-plugin-gauge.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-gauge"></script>
    <script src="{{ url_for('static', filename='scripts/script.js') }}"></script>
</head>

<body>
    <h2 style="text-align:center;">Round Robin Server Load Balancer</h2>
    <div id="main-section">

        <div id="tables-div">
            <table id="serversTable">
                <thead>
                    <tr>
                        <th>Server URL</th>
                        <th>Status</th>
                        <th>Requests Handled</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Dynamic data will go here -->
                </tbody>
            </table>
        </div>

    </div>
    <div id="other-charts">
        <div id="charts">
            <h3 style="text-align:center; padding-top: 3rem;">Requests Distribution</h3>
            <div class="chart-container">

                <canvas id="requestPieChart"></canvas>
            </div>


        </div>
    </div>
    <div id="main-stats">
        <div id="graphs">
            <h3 style="text-align:center; padding-top: 3rem; padding-bottom: 1.5rem;">Health/Requests Graphs</h3>
            <div id="chartsContainer" style="width: 100%; height: 100%;"></div>
        </div>


    </div>






    <!-- Card container -->
    <div id="hoverCard" class="hover-card" style="display: none;">
        <h4>Server Details</h4>
        <p id="cardURL"></p>
        <p id="cardStatus"></p>
        <p id="cardRequests"></p>
        <p id="cardCPU"></p> <!-- NEW -->
        <p id="cardRAM"></p> <!-- NEW -->
        <p id="cardLatency"></p> <!-- NEW -->
        <p id="cardUptime"></p> <!-- NEW -->
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            document.body.classList.add('hidden-body');

            setTimeout(() => {
                document.body.classList.remove('hidden-body');
                document.body.classList.add('fade-in');
            }, 3500);
        });
    </script>

</body>

</html>